<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="{{site.baseurl}}/css/styles.css">
    <link rel="stylesheet" media="screen and (max-width: 1040px)" href="{{site.baseurl}}/css/responsive.css">
    <link rel="stylesheet" href="{{site.baseurl}}/css/fa/css/fontawesome.min.css">
    <link rel="stylesheet" href="{{site.baseurl}}/css/fa/css/solid.min.css">
    <link rel="stylesheet" href="{{site.baseurl}}/css/fa/css/brands.min.css">
    <link rel="icon" href="{{site.baseurl}}/favicon.png">
    <title>{{site.title}}{% if page.title != "Home" %} | {{page.title}} {% endif %}</title>
</head>
<body class="site">
    {% include header.html %}
    <div class="preloader-wrapper">
        <div class="preloader">
            <!-- https://icon-library.net/images/loading-gif-icon/loading-gif-icon-22.jpg -->
            <img src="https://gifimage.net/wp-content/uploads/2018/04/preloading-gif-12.gif" alt="pinimg">
            <p>Loading...</p>
        </div>
    </div>
    <main class="site-main">
        {{content}}
    </main>
    {% include footer.html %}
    
    <script type="text/javascript">
        document.onreadystatechange = () => {
            console.log(document.readyState);
            if(document.readyState === "interactive"){
                console.log(document.readyState);
                document.querySelector('body').classList.add('preloader-site');
            }
            else {
                console.log(document.readyState);
                document.querySelector('body').classList.remove('preloader-site');
            }
        }

        window.addEventListener('load', (event) => {
            window.onscroll = function() {stickyHeader()};
            document.querySelector('body').classList.add('loaded');
            let itemArr = Array.from(document.getElementsByClassName('site-menu-item'));
            if(itemArr[0].classList.contains('current-page')) 
            {
                itemArr.forEach(elem => {
                    elem.classList.add('home-page');
                })
            }
        });

        function stickyHeader() {    
            var header = document.getElementsByClassName("site-header")[0];
            var sticky = header.offsetTop;

            if (window.pageYOffset > sticky) {
                header.classList.add("sticky");
            } else {
                header.classList.remove("sticky");
            }
        }        
    </script>
</body>
</html>